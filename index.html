<!DOCTYPE html>
<html lang="zh">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>合约/期货计算器 v6.7</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/decimal.js/10.4.3/decimal.min.js"></script>
</head>
<body>
  <div class="container">
    <h1>合约/期货计算器</h1>
    <p class="signature">北辰团队出品 · 专注量化与风险管理</p>

    <div class="form">
      <label>账户总资金 (U)</label>
      <input type="number" id="balance" step="0.000001" placeholder="如：1000">

      <label>杠杆倍数</label>
      <input type="number" id="leverage" step="1" placeholder="如：10">

      <label>风险比例 (%)</label>
      <input type="number" id="riskPercent" step="0.01" placeholder="如：2">

      <label>开仓方向</label>
      <select id="direction">
        <option value="long">做多</option>
        <option value="short">做空</option>
      </select>

      <label>开仓价格</label>
      <input type="number" id="entryPrice" step="0.000001" placeholder="如：10000">

      <label>止损价格</label>
      <input type="number" id="stopLoss" step="0.000001" placeholder="如：9500">

      <label>止盈价格</label>
      <input type="number" id="takeProfit" step="0.000001" placeholder="如：11000">

      <label>盈亏比 (R)</label>
      <input type="number" id="rrRatio" step="0.01" placeholder="如：2">

      <label>手续费率 (%)</label>
      <input type="number" id="feeRate" step="0.01" placeholder="如：0.05">

      <label>复利轮次</label>
      <input type="number" id="compoundRounds" step="1" placeholder="如：5">

      <label>浮盈加仓触发偏移% (相对开仓价, 可留空)</label>
      <input type="number" id="addCondition" step="0.01" placeholder="如：2 表示 +2%">

      <label>加仓比例 (%)（填写即模拟）</label>
      <input type="number" id="addPercent" step="0.01" placeholder="如：10">
    </div>

    <div id="results" class="results" aria-live="polite">
      <!-- result cards inserted here -->
    </div>
  </div>

  <div class="bottom-bar" role="toolbar" aria-label="操作按钮">
    <button id="btn-calc" onclick="calculate()">计算</button>
    <button id="btn-reset" onclick="resetForm()">重置</button>
    <button id="btn-export" onclick="exportTXT()">导出TXT</button>
  </div>

  <script src="app.js"></script>
</body>
</html>
